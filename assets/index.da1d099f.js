import{c as L,e as _,f as y,m as C,t as N,d as x,u as R,r as b,a as T,b as t,F as O,g as $,p as g,h as j,w as K,i as U,C as q,o as h,j as m,k as z,l as G,S as H,n as J}from"./index.e2e37df5.js";const[M,s,Q]=L("search"),W=_({},y,{label:String,shape:C("square"),leftIcon:C("search"),clearable:N,actionText:String,background:String,showAction:Boolean});var X=x({name:M,props:W,emits:["blur","focus","clear","search","cancel","click-input","click-left-icon","click-right-icon","update:modelValue"],setup(c,{emit:a,slots:n,attrs:u}){const i=R(),r=b(),o=()=>{n.action||(a("update:modelValue",""),a("cancel"))},d=e=>{e.keyCode===13&&(j(e),a("search",c.modelValue))},f=()=>c.id||`${i}-input`,k=()=>{if(n.label||c.label)return t("label",{class:s("label"),for:f()},[n.label?n.label():c.label])},l=()=>{if(c.showAction){const e=c.actionText||Q("cancel");return t("div",{class:s("action"),role:"button",tabindex:0,onClick:o},[n.action?n.action():e])}},p=()=>{var e;return(e=r.value)==null?void 0:e.blur()},S=()=>{var e;return(e=r.value)==null?void 0:e.focus()},V=e=>a("blur",e),E=e=>a("focus",e),F=e=>a("clear",e),I=e=>a("click-input",e),w=e=>a("click-left-icon",e),B=e=>a("click-right-icon",e),P=Object.keys(y),A=()=>{const e=_({},u,g(c,P),{id:f()}),v=D=>a("update:modelValue",D);return t(O,$({ref:r,type:"search",class:s("field"),border:!1,onBlur:V,onFocus:E,onClear:F,onKeypress:d,"onClick-input":I,"onClick-left-icon":w,"onClick-right-icon":B,"onUpdate:modelValue":v},e),g(n,["left-icon","right-icon"]))};return T({focus:S,blur:p}),()=>{var e;return t("div",{class:s({"show-action":c.showAction}),style:{background:c.background}},[(e=n.left)==null?void 0:e.call(n),t("div",{class:s("content",c.shape)},[k(),A()]),l()])}}});const Y=K(X);const ee=x({name:"index",setup(c){const a=U(),n=b("\u9648\u5955\u8FC5"),u=b([]);async function i(){try{const{result:o}=await H({keywords:n.value});u.value=o.songs||[]}catch(o){console.log(o)}}i();function r(o){a.addPlayList(o)}return(o,d)=>{const f=Y,k=q;return h(),m("div",null,[t(f,{modelValue:n.value,"onUpdate:modelValue":d[0]||(d[0]=l=>n.value=l),placeholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5173\u952E\u8BCD",onSearch:i},null,8,["modelValue"]),(h(!0),m(z,null,G(u.value,l=>(h(),J(k,{key:l.id,title:l.name,onClick:p=>r(l)},null,8,["title","onClick"]))),128))])}}});export{ee as default};
